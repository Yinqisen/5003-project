<!--pages/login/login.wxml-->
<view class="login-container">
  <view class="login-header">
    <image class="logo" src="/images/logo.png" mode="aspectFit"></image>
    <text class="title">{{isRegister ? '用户注册' : '用户登录'}}</text>
    <text class="subtitle">香港城市大学（东莞）点餐系统</text>
  </view>

  <view class="login-content">
    <view class="form-item">
      <text class="label">用户名</text>
      <input 
        class="input" 
        placeholder="请输入用户名"
        value="{{username}}"
        bindinput="handleUsernameInput"
      />
    </view>

    <view class="form-item">
      <text class="label">密码</text>
      <input 
        class="input" 
        type="password"
        placeholder="请输入密码"
        value="{{password}}"
        bindinput="handlePasswordInput"
      />
    </view>

    <view wx:if="{{isRegister}}" class="form-item">
      <text class="label">昵称（可选）</text>
      <input 
        class="input" 
        placeholder="请输入昵称"
        value="{{nickname}}"
        bindinput="handleNicknameInput"
      />
    </view>

    <view wx:if="{{isRegister}}" class="form-item">
      <text class="label">手机号（可选）</text>
      <input 
        class="input" 
        type="number"
        placeholder="请输入手机号"
        value="{{phone}}"
        bindinput="handlePhoneInput"
      />
    </view>

    <button 
      class="login-btn" 
      type="primary" 
      bindtap="handleSubmit"
      loading="{{loading}}"
      disabled="{{loading}}"
    >
      {{isRegister ? '注册' : '登录'}}
    </button>
    
    <view class="switch-mode" bindtap="handleSwitchMode">
      <text>{{isRegister ? '已有账号？去登录' : '没有账号？去注册'}}</text>
    </view>
    
    <view class="login-tips">
      <text>登录即表示同意</text>
      <text class="link">《用户协议》</text>
      <text>和</text>
      <text class="link">《隐私政策》</text>
    </view>
  </view>
</view>

